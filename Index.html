<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rizz System Dashboard</title>
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    h1 { margin-bottom: 15px; }

    input {
      padding: 8px;
      border-radius: 6px;
      border: none;
      margin-right: 6px;
    }

    button {
      padding: 6px 10px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      margin: 3px;
      background: #222;
      color: #fff;
    }

    .person {
      margin-top: 18px;
      padding-bottom: 10px;
      border-bottom: 1px solid #222;
    }

    .bar-container {
      width: 100%;
      background: #333;
      height: 12px;
      border-radius: 6px;
      overflow: hidden;
      margin: 6px 0;
    }

    .bar {
      height: 100%;
      background: #00ff88;
    }

    .status {
      font-size: 12px;
      margin-left: 8px;
      padding: 2px 6px;
      border-radius: 4px;
    }

    .focus { background: #00ff88; color: #000; }
    .pause { background: #ff5555; }
    .active { background: #888; }
  </style>
</head>

<body>

<h1>ðŸ”¥ Rizz System Dashboard</h1>

<input id="nameInput" placeholder="Enter name (e.g. Charity)">
<button onclick="addPerson()">Add / Update</button>

<div id="list"></div>

<script>
  let people = JSON.parse(localStorage.getItem("rizzPeople")) || [];

  people = people.filter(p => p && p.name && typeof p.progress === "number");

  function save() {
    localStorage.setItem("rizzPeople", JSON.stringify(people));
  }

  function addPerson() {
    const name = document.getElementById("nameInput").value.trim();
    if (!name) return alert("Enter a name");

    let person = people.find(p => p.name === name);
    if (!person) {
      people.push({ name, progress: 0, status: "ACTIVE" });
    }

    document.getElementById("nameInput").value = "";
    save();
    render();
  }

  function changeProgress(i, amt) {
    people[i].progress = Math.min(100, Math.max(0, people[i].progress + amt));
    save();
    render();
  }

  function setStatus(i, status) {
    people[i].status = status;
    save();
    render();
  }

  function render() {
    const list = document.getElementById("list");
    list.innerHTML = "";

    people.forEach((p, i) => {
      let statusClass =
        p.status === "FOCUS" ? "focus" :
        p.status === "PAUSE" ? "pause" : "active";

      list.innerHTML += `
        <div class="person">
          <strong>${p.name} â€” ${p.progress}%</strong>
          <span class="status ${statusClass}">${p.status}</span>

          <div class="bar-container">
            <div class="bar" style="width:${p.progress}%"></div>
          </div>

          <button onclick="changeProgress(${i}, -10)">-10</button>
          <button onclick="changeProgress(${i}, 10)">+10</button>

          <br>
          <button onclick="setStatus(${i}, 'FOCUS')">Focus</button>
          <button onclick="setStatus(${i}, 'PAUSE')">Pause</button>
          <button onclick="setStatus(${i}, 'ACTIVE')">Active</button>
        </div>
      `;
    });
  }

  save();
  render();
</script>

</body>
</html>
